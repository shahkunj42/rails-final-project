(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{119:function(e,t,n){},149:function(e,t,n){},157:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(125),s=n.n(r),a=n(14),i=(n(149),n(11)),j=(n(119),n(22)),o=n(18),l=n(169),b=n(170),h=n(174),u=n(9),d=n(1);var O=function(e){var t=e.setUser,n=Object(c.useState)({}),r=Object(i.a)(n,2),s=r[0],a=r[1],O=Object(u.f)(),m=s.username,p=s.password,x=s.profile_image,f=s.bio,v=s.first_name,g=s.last_name,_=s.email,y=s.password_confirmation;function C(e){var t=e.target,n=t.name,c=t.value;a((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(j.a)({},n,c))}))}return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Create an Account"}),Object(d.jsx)(l.a,{children:Object(d.jsxs)(b.a,{onSubmit:function(e){e.preventDefault();var n={username:m,profile_image:x,first_name:v,last_name:g,email:_,bio:f,password:p,password_confirmation:y};fetch("/newaccount",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){return t(e)})).then(O("/homefeed"))},children:[Object(d.jsx)("label",{htmlFor:"username",children:"Username"}),Object(d.jsx)("input",{onChange:C,type:"text",id:"username",name:"username"}),Object(d.jsx)("label",{htmlFor:"first_name",children:"First Name"}),Object(d.jsx)("input",{onChange:C,type:"text",id:"first_name",name:"first_name"}),Object(d.jsx)("label",{htmlFor:"last_name",children:"Last Name"}),Object(d.jsx)("input",{onChange:C,type:"text",id:"last_name",name:"last_name"}),Object(d.jsx)("label",{htmlFor:"profile_image",children:"Image"}),Object(d.jsx)("input",{onChange:C,placeholder:"Image URL",type:"text",id:"profile_image",name:"profile_image"}),Object(d.jsx)("label",{htmlFor:"email",children:"Email"}),Object(d.jsx)("input",{onChange:C,type:"text",id:"email",name:"email"}),Object(d.jsx)("label",{htmlFor:"bio",children:"Bio"}),Object(d.jsx)("input",{onChange:C,type:"text",id:"bio",name:"bio"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("br",{}),Object(d.jsx)("p",{className:"password",children:"Please choose a password with at least"}),Object(d.jsxs)("ul",{className:"password_list",children:[Object(d.jsx)("li",{children:"8 characters"}),Object(d.jsx)("li",{children:"1 capitalized letter"}),Object(d.jsx)("li",{children:"1 number"}),Object(d.jsx)("li",{children:"1 special character"})]})]}),Object(d.jsx)("label",{htmlFor:"password",children:"Password"}),Object(d.jsx)("input",{onChange:C,type:"password",id:"password",name:"password"}),Object(d.jsx)("label",{htmlFor:"password_confirmation",children:"Password Confirmation"}),Object(d.jsx)("input",{onChange:C,type:"password",id:"password_confirmation",name:"password_confirmation"}),Object(d.jsx)(h.a,{color:"violet",type:"submit",children:"Submit"})]})})]})},m=n(176),p=n(177);var x=function(){return Object(d.jsxs)("div",{className:"landing",children:[Object(d.jsx)(m.a,{size:"huge",children:"Welcome to Cheep"}),Object(d.jsx)("br",{}),Object(d.jsx)(p.a,{columns:2,centered:!0,children:Object(d.jsxs)(p.a.Row,{children:[Object(d.jsx)(p.a.Column,{width:5,children:Object(d.jsx)(h.a,{color:"violet",fluid:!0,as:a.b,to:"/signup",children:"Sign Up"})}),Object(d.jsx)(p.a.Column,{width:5,children:Object(d.jsx)(h.a,{color:"violet",fluid:!0,as:a.b,to:"/signin",children:"Sign In"})})]})})]})};var f=function(e){var t=e.setUser,n=Object(c.useState)({}),r=Object(i.a)(n,2),s=r[0],a=r[1],O=Object(c.useState)(null),m=Object(i.a)(O,2),p=m[0],x=m[1],f=Object(u.f)(),v=s.username,g=s.password;function _(e){var t=e.target,n=t.name,c=t.value;a((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(j.a)({},n,c))}))}return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Sign In"}),Object(d.jsx)(l.a,{children:Object(d.jsxs)(b.a,{onSubmit:function(e){e.preventDefault();var n={username:v,password:g};fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){e.ok?e.json().then((function(e){return t(e)})).then(f("/homefeed")):e.json().then((function(e){return x(e.errors)}))}))},className:"form",children:[Object(d.jsx)("label",{htmlFor:"username",children:"Username"}),Object(d.jsx)("input",{onChange:_,type:"text",id:"username",placeholder:"username",name:"username"}),Object(d.jsx)("label",{htmlFor:"password",children:"Password"}),Object(d.jsx)("input",{onChange:_,type:"password",id:"password",placeholder:"password",name:"password"}),Object(d.jsx)(h.a,{color:"violet",type:"submit",children:"Signin"})]})}),Object(d.jsx)("p",{children:p?Object(d.jsx)("h1",{children:p}):null})]})},v=n(172),g=n(79);var _=function(e){var t=e.cheep,n=e.user,r=Object(c.useState)(t.likers_count),s=Object(i.a)(r,2),a=s[0],j=s[1],o=Object(c.useState)(!1),b=Object(i.a)(o,2),h=b[0],u=b[1],O=t.created_at.toString().slice(5,16),m=O.slice(0,5),p=O.slice(6);return Object(d.jsx)(l.a,{children:Object(d.jsx)(v.a,{children:Object(d.jsxs)(v.a.Event,{children:[Object(d.jsx)(v.a.Label,{children:Object(d.jsx)("img",{src:n.profile_image,alt:"profile_image"})}),Object(d.jsxs)(v.a.Content,{children:[Object(d.jsxs)(v.a.Summary,{children:[Object(d.jsx)("span",{children:"".concat(n.first_name," ").concat(n.last_name)}),Object(d.jsxs)("i",{className:"username",children:[" ",n.username]}),Object(d.jsx)(v.a.Date,{children:"".concat(m," ").concat(p)})]}),Object(d.jsx)(v.a.Extra,{text:!0,children:t.cheep}),Object(d.jsx)(v.a.Meta,{children:Object(d.jsxs)(v.a.Like,{children:[Object(d.jsx)(g.a,{onClick:function(){h?fetch("/unlike/".concat(t.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.likers_count)}).then((function(e){return e.json()})).then((function(e){return j(e)})).then(u((function(e){return!e}))):fetch("/like/".concat(t.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.likers_count)}).then((function(e){return e.json()})).then((function(e){return j(e)})).then(u((function(e){return!e})))},name:"like"}),a]})})]})]})})})};var y=function(e){var t=e.cheep,n=e.users;if(n){var c=n.find((function(e){return e.id===t.user_id}));return Object(d.jsx)("div",{children:Object(d.jsx)(_,{cheep:t,user:c})})}return Object(d.jsx)("h1",{children:" "})};var C=function(e){var t=e.user,n=e.users,r=e.myCheeps,s=Object(c.useState)([]),a=Object(i.a)(s,2),j=a[0],o=a[1];Object(c.useEffect)((function(){fetch("/feed").then((function(e){e.ok&&e.json().then((function(e){return o(e)}))}))}),[t]);var l=j.map((function(e){return e.cheeps.map((function(e){return e}))})),b=[];if(l.length>1)for(var h=0;h<l.length;h++)b=b.concat(l[h]);else{if(0===j.length)return b;b=l[0]}var u=b.concat(r).sort((function(e,t){return e.id>t.id?-1:1})).map((function(e){return Object(d.jsx)(y,{cheep:e,users:n,user:t},e.id)}));return Object(d.jsxs)("div",{children:[Object(d.jsx)(m.a,{as:"h1",children:"Home"}),Object(d.jsx)("div",{children:u})]})},S=n(102);var w=function(e){var t=e.setMyCheeps,n=Object(c.useState)({}),r=Object(i.a)(n,2),s=r[0],a=r[1],O=Object(u.f)(),m=s.cheep;return Object(d.jsx)("div",{children:Object(d.jsx)(l.a,{children:Object(d.jsxs)(b.a,{onSubmit:function(e){e.preventDefault();var n={cheep:m,likers_count:0};fetch("/cheeps",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){return t((function(t){return[].concat(Object(S.a)(t),[e])}))})).then(O("/homefeed"))},children:[Object(d.jsx)("input",{onChange:function(e){var t=e.target,n=t.name,c=t.value;a((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(j.a)({},n,c))}))},type:"text",id:"cheep",placeholder:"What's on your mind?",name:"cheep"}),Object(d.jsx)(h.a,{color:"violet",type:"submit",children:"Cheep"}),Object(d.jsx)("br",{})]})})})};var k=function(e){var t=e.setUser,n=Object(u.f)();return Object(d.jsx)("div",{children:Object(d.jsx)(h.a,{color:"violet",onClick:function(){fetch("/logout",{method:"DELETE"}).then((function(e){e.ok&&t(null)})),n("/signin")},children:"Log Out"})})},F=n(128);var N=function(e){var t=e.cheep,n=e.user,c=e.onDeleteCheep,r=t.created_at.toString().slice(5,16),s=r.slice(0,5),a=r.slice(6);return Object(d.jsxs)("div",{children:[Object(d.jsx)(v.a,{children:Object(d.jsxs)(v.a.Event,{children:[Object(d.jsx)(v.a.Label,{children:Object(d.jsx)(F.a,{src:n.profile_image,alt:"profile_img",size:"medium",circular:!0})}),Object(d.jsxs)(v.a.Content,{children:[Object(d.jsxs)(v.a.Summary,{children:[Object(d.jsx)("span",{children:"".concat(n.first_name," ").concat(n.last_name)}),Object(d.jsxs)("i",{className:"username",children:[" ",n.username]}),Object(d.jsx)(v.a.Date,{children:"".concat(s," ").concat(a)})]}),Object(d.jsx)(v.a.Extra,{text:!0,children:t.cheep}),Object(d.jsx)(v.a.Meta,{children:Object(d.jsxs)(v.a.Like,{children:[Object(d.jsx)(h.a,{className:"trash_button",onClick:function(){fetch("/cheeps/".concat(t.id),{method:"DELETE"}),c(t.id)},icon:!0,children:Object(d.jsx)(g.a,{color:"violet",className:"trash_button",size:"small",name:"trash"})}),Object(d.jsx)(g.a,{name:"like"}),t.likers_count]})})]})]})},t.id),Object(d.jsx)("br",{})]})};var E=function(e){var t=e.myCheeps,n=e.user,c=e.onDeleteCheep;if(n){var r=t.map((function(e){return Object(d.jsx)(N,{onDeleteCheep:c,cheep:e,user:n})})).reverse();return Object(d.jsxs)("div",{children:[Object(d.jsxs)(m.a,{as:"h3",children:[n.first_name," ",n.last_name]}),Object(d.jsxs)(m.a,{as:"h4",children:["@",n.username]}),Object(d.jsx)(F.a,{src:n.profile_image,alt:"profile_img",size:"small",circular:!0,centered:!0}),Object(d.jsx)(m.a,{as:"h5",children:n.bio}),Object(d.jsx)(a.c,{to:"/profile/edit",children:"Edit Profile"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{children:r})]})}return Object(d.jsx)("h1",{children:" "})};var T=function(e){var t=e.user,n=e.setUser,r=Object(c.useState)({}),s=Object(i.a)(r,2),a=s[0],l=s[1],O=Object(u.f)();if(t){var m=function(e){var t=e.target,n=t.name,c=t.value;l((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(j.a)({},n,c))}))},p=a.profile_image,x=a.bio,f=a.first_name,v=a.last_name;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Edit Your Page"}),Object(d.jsxs)(b.a,{onSubmit:function(e){e.preventDefault();var c={profile_image:p,first_name:f,last_name:v,bio:x};fetch("/users/".concat(t.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){return n(e)})).then(O("/profile"))},children:[Object(d.jsx)("label",{htmlFor:"first_name",children:"First Name"}),Object(d.jsx)("input",{onChange:m,type:"text",id:"first_name",name:"first_name",placeholder:t.first_name}),Object(d.jsx)("label",{htmlFor:"last_name",children:"Last Name"}),Object(d.jsx)("input",{onChange:m,type:"text",id:"last_name",name:"last_name",placeholder:t.last_name}),Object(d.jsx)("label",{htmlFor:"profile_image",children:"Image"}),Object(d.jsx)("input",{onChange:m,type:"text",id:"profile_image",name:"profile_image"}),Object(d.jsx)("label",{htmlFor:"bio",children:"Bio"}),Object(d.jsx)("input",{onChange:m,type:"text",id:"bio",name:"bio",placeholder:t.bio}),Object(d.jsx)(h.a,{color:"violet",type:"submit",children:"Submit"})]})]})}return Object(d.jsx)("div",{})};var P=function(e){var t=e.setMyCheeps,n=Object(c.useState)({}),r=Object(i.a)(n,2),s=r[0],a=r[1],O=Object(u.f)(),m=s.cheep;return Object(d.jsxs)("div",{children:[Object(d.jsx)(l.a,{children:Object(d.jsxs)(b.a,{onSubmit:function(e){e.preventDefault();var n={cheep:m,likers_count:0};fetch("/cheeps",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){return t((function(t){return[].concat(Object(S.a)(t),[e])}))})).then(O("/profile"))},children:[Object(d.jsx)("input",{onChange:function(e){var t=e.target,n=t.name,c=t.value;a((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(j.a)({},n,c))}))},type:"text",id:"cheep",placeholder:"What's on your mind?",name:"cheep"}),Object(d.jsx)(h.a,{color:"violet",type:"submit",children:"Cheep"})]})}),Object(d.jsx)("br",{})]})};var U=function(e){var t=e.error;return Object(d.jsx)("div",{children:t.error})};var D=function(e){var t=e.user,n=e.me,c=e.setUser,r=Object(u.f)();if(t){var s=t.cheeps.map((function(e){return Object(d.jsx)(v.a,{children:Object(d.jsxs)(v.a.Event,{children:[Object(d.jsx)(v.a.Label,{children:Object(d.jsx)("img",{src:t.profile_image,alt:"profile_img"})}),Object(d.jsxs)(v.a.Content,{children:[Object(d.jsxs)(v.a.Summary,{children:[Object(d.jsx)("p",{children:t.username})," posted on their page",Object(d.jsx)(v.a.Date,{children:e.created_at})]}),Object(d.jsx)(v.a.Extra,{text:!0,children:e.cheep}),Object(d.jsx)(v.a.Meta,{children:Object(d.jsxs)(v.a.Like,{children:[Object(d.jsx)(g.a,{name:"like"}),e.likers_count]})})]})]})},e.id)})).reverse();return Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:[t.first_name," ",t.last_name]}),Object(d.jsx)("p",{children:t.username}),Object(d.jsx)("img",{src:t.profile_image,alt:"profile_img"}),Object(d.jsx)("p",{children:t.bio}),Object(d.jsx)(h.a,{onClick:function(){var e={me:n,you:t};fetch("/follow",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return c(e)})).then(r("/homefeed"))},children:"Follow!"}),Object(d.jsx)("div",{children:s})]})}return Object(d.jsx)("div",{})};var L=function(e){var t=e.users,n=e.me,c=e.setUser,r=t.map((function(e){return Object(d.jsx)(D,{me:n,setUser:c,user:e})}));return Object(d.jsx)("div",{children:r})};var I=function(e){var t=e.users,n=e.me,r=e.setUser,s=Object(c.useState)(""),a=Object(i.a)(s,2),u=a[0],O=a[1],m=Object(c.useState)(null),p=Object(i.a)(m,2),x=p[0],f=p[1],v=Object(c.useState)(null),g=Object(i.a)(v,2),_=g[0],y=g[1];return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Explore"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("br",{}),Object(d.jsxs)(l.a,{children:[Object(d.jsxs)(b.a,{onSubmit:function(e){e.preventDefault();var n=t.filter((function(e){return e.username.includes(u.username)}));n.length>0?f(n):(y({error:"No such user"}),f(null))},children:[Object(d.jsx)("label",{htmlFor:"username",children:"Search for Your Friend's Username!"}),Object(d.jsx)("input",{onChange:function(e){var t=e.target,n=t.name,c=t.value;O((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(j.a)({},n,c))}))},type:"text",id:"username",name:"username",placeholder:"asmokeandapancake"}),Object(d.jsx)("br",{}),Object(d.jsx)(h.a,{color:"violet",type:"submit",children:"Submit"})]}),Object(d.jsx)("br",{}),x?Object(d.jsx)(L,{setUser:r,me:n,users:x}):_?Object(d.jsx)(U,{error:_}):null]})]})]})},J=n(173),M=n(178),z=n(171);var A=function(e){var t=e.children;return Object(d.jsxs)(J.a.Pushable,{as:M.a,children:[Object(d.jsxs)(J.a,{as:z.a,icon:"labeled",vertical:!0,visible:!0,width:"thin",children:[Object(d.jsx)(z.a.Item,{as:"a",children:Object(d.jsxs)(h.a,{color:"violet",fluid:!0,as:a.b,to:"/homefeed",children:[Object(d.jsx)(g.a,{link:!0,name:"home"}),"Home"]})}),Object(d.jsx)(z.a.Item,{as:"a",children:Object(d.jsxs)(h.a,{color:"violet",fluid:!0,as:a.b,to:"/explore",children:[Object(d.jsx)(g.a,{name:"world"}),"Explore"]})}),Object(d.jsx)(z.a.Item,{as:"a",children:Object(d.jsxs)(h.a,{color:"violet",fluid:!0,as:a.b,to:"/profile",children:[Object(d.jsx)(g.a,{name:"user"}),"Profile"]})})]}),Object(d.jsx)(J.a.Pusher,{children:Object(d.jsx)(M.a,{basic:!0,children:t})})]})};var H=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(null),a=Object(i.a)(s,2),j=a[0],o=a[1],l=Object(c.useState)([]),b=Object(i.a)(l,2),h=b[0],m=b[1];return Object(c.useEffect)((function(){fetch("/me").then((function(e){e.ok&&e.json().then((function(e){return r(e)}))}))}),[]),Object(c.useEffect)((function(){fetch("/users").then((function(e){e.ok&&e.json().then((function(e){return o(e)}))}))}),[n]),Object(c.useEffect)((function(){fetch("/myCheeps").then((function(e){e.ok&&e.json().then((function(e){return m(e)}))}))}),[n]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("img",{src:"https://www.seekpng.com/png/full/111-1110814_bird-computer-icons-purple-clip-art-bird-clip.png",alt:"cheep_icon",className:"cheep_icon"}),Object(d.jsxs)(u.c,{children:[Object(d.jsx)(u.a,{path:"/",element:Object(d.jsx)(x,{})}),Object(d.jsx)(u.a,{path:"/homefeed",element:Object(d.jsxs)(A,{children:[Object(d.jsx)(w,{setMyCheeps:m,myCheeps:h}),Object(d.jsx)("br",{}),Object(d.jsx)(C,{myCheeps:h,user:n,users:j}),Object(d.jsx)(k,{setUser:r})]})}),Object(d.jsx)(u.a,{path:"/profile",element:Object(d.jsxs)(A,{children:[Object(d.jsx)(P,{setMyCheeps:m,myCheeps:h}),Object(d.jsx)(E,{onDeleteCheep:function(e){var t=h.filter((function(t){return t.id!==e}));m(t)},setMyCheeps:m,myCheeps:h,user:n})]})}),Object(d.jsx)(u.a,{path:"/explore",element:Object(d.jsx)(A,{children:Object(d.jsx)(I,{users:j,me:n,setUser:r})})}),Object(d.jsx)(u.a,{path:"/profile/edit",element:Object(d.jsx)(T,{setUser:r,user:n})}),Object(d.jsx)(u.a,{path:"/signup",element:Object(d.jsx)(O,{setUser:r})}),Object(d.jsx)(u.a,{path:"/signin",element:Object(d.jsx)(f,{setUser:r})})]})]})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,179)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};n(156);s.a.createRoot(document.getElementById("root")).render(Object(d.jsx)(a.a,{children:Object(d.jsx)(H,{})})),B()}},[[157,1,2]]]);
//# sourceMappingURL=main.e889fbfd.chunk.js.map